ChampSaisieTag.controleTel=function(f,e,b){var a=f.value;var d=new RegExp(e,"g");if(d.test(a)){a=a.replace(/[-. ]/g,"");var c=a.substr(0,2)+ChampSaisieTag.separateurTelephone;c+=a.substr(2,2)+ChampSaisieTag.separateurTelephone;c+=a.substr(4,2)+ChampSaisieTag.separateurTelephone;c+=a.substr(6,2)+ChampSaisieTag.separateurTelephone;c+=a.substr(8,2);ChampSaisieTag.champOK(f);f.value=c;return true}else{if(a.length===0){ChampSaisieTag.champOK(f);return true}else{ChampSaisieTag.erreurChamp(f,b);return false}}};ChampSaisieTag.controleTelFixe=function(a){return ChampSaisieTag.controleTel(a,"^0[123459]([-. ]?[0-9]{2}){4}$","Le format du num&eacute;ro de t&eacute;l&eacute;phone fixe est incorrect.")};ChampSaisieTag.controleTelPortable=function(a){return ChampSaisieTag.controleTel(a,"^0[67]([-. ]?[0-9]{2}){4}$","Le format du num&eacute;ro de t&eacute;l&eacute;phone portable est incorrect.")};ChampSaisieTag.controlEmail=function(e,d,c){var b=e.value;var a=new RegExp(d,"g");if(a.test(b)){ChampSaisieTag.champOK(e);return true}else{if(b.length===0){ChampSaisieTag.champOK(e)}else{ChampSaisieTag.erreurChamp(e,c)}return false}};ChampSaisieTag.controleNir=function(c){var a=c.value;var b=new RegExp("^[0-9]{6}[0-9ABab][0-9]{6}$","g");if(b.test(a)){ChampSaisieTag.champOK(c)}else{if(a.length===0){ChampSaisieTag.champOK(c)}else{ChampSaisieTag.erreurChamp(c,"Le num&eacute;ro de s&eacute;curit&eacute; sociale n'a pas un format correct.")}}};ChampSaisieTag.controleMontant=function(f){var e=f.value;var d;var b=new RegExp("^[0-9]*([-, ]?[0-9]{2})$","g");if(e.indexOf(".")!=-1){var c=e.split(".");var a;if(c[1].length>=2){a=c[1].substring(0,2)}else{a=c[1]+"0"}d=c[0]+","+a}else{if(e.indexOf(",")!=-1){var c=e.split(",");var a;if(c[1].length>=2){a=c[1].substring(0,2)}else{a=c[1]+"0"}d=c[0]+","+a}else{if(e==""){d="0,00"}else{d=e+",00"}}}if(b.test(d)){ChampSaisieTag.champOK(f);f.value=d}else{if(e.length===0){ChampSaisieTag.champOK(f)}else{ChampSaisieTag.erreurChamp(f,"Le montant saisi n'a pas un format correct.")}}};ChampSaisieTag.controlePast=function(c,b){Date.defineParser("%d/%m/%Y");var a=new Date().parse(c.value);if(ChampSaisieTag.isEmpty(c)||!a.isValid()||a>(new Date())){ChampSaisieTag.erreurChamp(c,b);return false}return true};ChampSaisieTag.controleFuture=function(c,b){Date.defineParser("%d/%m/%Y");var a=new Date().parse(c.value);if(ChampSaisieTag.isEmpty(c)||!a.isValid()||a<(new Date())){ChampSaisieTag.erreurChamp(c,b);return false}return true};ChampSaisieTag.controleDateDebutFin=function(c,b){if(!ChampSaisieTag.isEmpty(b)&&!ChampSaisieTag.isEmpty(c)){ChampSaisieTag.champOK(c);ChampSaisieTag.champOK(b);ChampSaisieTag.controleDate(c);ChampSaisieTag.controleDate(b);if(document.getElementById(c.id+ChampSaisieTag.prefixIdZoneMessageErreur).innerHTML===""&&document.getElementById(b.id+ChampSaisieTag.prefixIdZoneMessageErreur).innerHTML===""){var d=c.value.split("/");var f=new Date(d[2],d[1]-1,d[0]);var a=b.value.split("/");var e=new Date(a[2],a[1]-1,a[0]);if(f>e){ChampSaisieTag.erreurChamp(b,"La date de fin ne peut &ecirc;tre ant&eacute;rieure &agrave; la date de d&eacute;but.")}}}};ChampSaisieTag.controleEntierPositif=function(a){if(!ChampSaisieTag.isEmpty(a)){if(a.value==Math.abs(parseInt(a.value))&&Math.abs(parseInt(a.value))>0){ChampSaisieTag.champOK(a)}else{ChampSaisieTag.erreurChamp(a,"La valeur doit &ecirc;tre un nombre entier et sup&eacute;rieur &agrave; 0.")}}};Fenetre.ModaleAS=new Class({Extends:Fenetre.Modale,getCloseElement:function(){return this.element.getElement(".fenetre-button")},close:function(){this.triggerElement=null;this.parent();this.element.fireEvent("close")}});Fenetre.initModale=function(a,b){return new Fenetre.ModaleAS(a,b)};function changerStyleErreur(a,b){if(document.getElementById(a).value!=""){if(document.getElementById(b)!=null){document.getElementById(b).className=""}if(document.getElementById(b+"_messageErreur")!=null){document.getElementById(b+"_messageErreur").innerHTML=""}}}Fenetre.BulleAS=new Class({Extends:Fenetre.Bulle,close:function(){this.parent();this.element.fireEvent("close")},open:function(){$$("div.bulle").each(function(a){Fenetre.components[a.id].close()});this.parent()}});Fenetre.initBulle=function(a,b){return new Fenetre.BulleAS(a,b)};